<% url = notification.url.present? ? notification.url : '#' %>
<div class="notification-item flex items-start py-3 px-4 border-b border-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 dark:border-gray-600 transition-colors duration-150" 
     data-notification-id="<%= notification.id %>">
  <div class="flex-shrink-0">
    <div class="w-10 h-10 rounded-full flex items-center justify-center <%= notification_css_class(notification.notification_type) %>">
      <%= notification_icon(notification.notification_type) %>
    </div>
  </div>
  <div class="pl-3 w-full min-w-0">
    <% if notification.url.present? %>
      <a href="<%= notification.url %>" class="hover:underline">
        <div class="text-gray-800 font-medium text-sm mb-1.5 dark:text-gray-200 line-clamp-2">
          <%= notification.message %>
        </div>
      </a>
    <% else %>
      <div class="text-gray-800 font-medium text-sm mb-1.5 dark:text-gray-200 line-clamp-2">
        <%= notification.message %>
      </div>
    <% end %>
    <div class="text-xs font-medium text-primary-600 dark:text-primary-500 flex items-center">
      <%= icon "clock", library: "lucide", variant: "outline", class: "w-3 h-3 mr-1" %>
      <%= time_ago(notification.created_at) %>
    </div>
  </div>
  <button class="dismiss-notification text-gray-400 hover:text-red-500 ml-2 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-150" 
          data-notification-id="<%= notification.id %>"
          data-action="click->notifications#dismiss click->notification-list#dismiss"
          title="Dismiss notification">
    <%= icon "x", library: "lucide", variant: "outline", class: "w-4 h-4" %>
  </button>
</div>
