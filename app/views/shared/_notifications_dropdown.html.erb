<div class="relative" data-controller="notification-counter notifications">
  <button id="notification-button" data-dropdown-toggle="notification-dropdown" class="relative inline-flex items-center p-2 text-sm font-medium text-center text-gray-500 hover:text-gray-900 focus:outline-none dark:text-gray-400 dark:hover:text-white" aria-label="Notifications">
    <%= icon "bell", library: "lucide", variant: "outline", class: "w-6 h-6" %>
    <span data-notification-counter-target="badge" data-notification-badge class="absolute inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-1 -right-1 dark:border-gray-900 hidden transition-transform duration-200">0</span>
  </button>
  
  <!-- Dropdown menu -->
  <div id="notification-dropdown" class="hidden fixed md:absolute right-0 top-full mt-2 z-50 w-full max-w-xs md:max-w-md bg-white divide-y divide-gray-100 rounded-lg shadow-xl dark:bg-gray-800 dark:divide-gray-700 transition-all duration-300 origin-top-right">
    <div class="flex items-center justify-between p-4 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700">
      <h6 class="text-sm font-semibold">Notifications</h6>
      <a href="#" class="text-xs font-medium text-primary-600 hover:underline dark:text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900 p-1 rounded-md transition-colors duration-150" data-action="click->notifications#markAllAsRead">Mark all as read</a>
    </div>
    <div data-notifications-target="container" class="max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800">
      <!-- Empty state by default, will be replaced by actual notifications if they exist -->
      <div class="py-8 px-4 text-center text-gray-500 dark:text-gray-400">
        <div class="flex flex-col items-center">
          <svg class="w-14 h-14 mb-3 opacity-60 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"></path>
          </svg>
          <p class="font-medium text-base mb-1">No notifications</p>
          <p class="text-xs text-gray-400 dark:text-gray-500">You're all caught up!</p>
        </div>
      </div>
    </div>
    <a href="<%= hub_notifications_path %>" class="block py-3 text-sm font-medium text-center text-gray-900 rounded-b-lg bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-white border-t border-gray-200 dark:border-gray-700 transition-colors duration-150">
      <div class="inline-flex items-center justify-center w-full">
        <%= icon "list", library: "lucide", variant: "outline", class: "w-4 h-4 mr-2" %>
        <span>View all notifications</span>
      </div>
    </a>
  </div>
</div>
